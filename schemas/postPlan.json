{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://autogensocial.com/schemas/postPlan.json",
  "title": "Post Plan",
  "description": "Schema for content posting plan in the AutoGenSocial platform",
  "type": "object",
  "required": ["id", "brandId", "planName", "startDate", "endDate"],
  "properties": {
    "id": {
      "type": "string",
      "description": "Unique identifier for the post plan",
      "pattern": "^[a-zA-Z0-9-_]+$"
    },
    "brandId": {
      "type": "string",
      "description": "Reference to the brand this plan belongs to",
      "pattern": "^[a-zA-Z0-9-_]+$"
    },
    "planName": {
      "type": "string",
      "description": "Name of the post plan",
      "minLength": 1,
      "maxLength": 200
    },
    "description": {
      "type": "string",
      "description": "Description of the post plan objectives and strategy",
      "maxLength": 1000
    },
    "startDate": {
      "type": "string",
      "format": "date",
      "description": "Start date of the post plan"
    },
    "endDate": {
      "type": "string",
      "format": "date",
      "description": "End date of the post plan"
    },
    "status": {
      "type": "string",
      "enum": ["draft", "active", "paused", "completed", "cancelled"],
      "description": "Current status of the post plan"
    },
    "objectives": {
      "type": "array",
      "description": "Campaign objectives and goals",
      "items": {
        "type": "object",
        "required": ["type", "description"],
        "properties": {
          "type": {
            "type": "string",
            "enum": ["awareness", "engagement", "conversion", "retention", "growth"],
            "description": "Type of objective"
          },
          "description": {
            "type": "string",
            "description": "Detailed description of the objective",
            "maxLength": 500
          },
          "targetMetric": {
            "type": "object",
            "properties": {
              "name": {
                "type": "string",
                "description": "Name of the metric (e.g., 'impressions', 'engagement_rate')"
              },
              "target": {
                "type": "number",
                "description": "Target value for the metric"
              }
            }
          }
        }
      }
    },
    "contentThemes": {
      "type": "array",
      "description": "Content themes for the plan",
      "items": {
        "type": "object",
        "required": ["theme"],
        "properties": {
          "theme": {
            "type": "string",
            "description": "Theme name",
            "maxLength": 100
          },
          "description": {
            "type": "string",
            "description": "Theme description",
            "maxLength": 500
          },
          "keywords": {
            "type": "array",
            "description": "Keywords associated with the theme",
            "items": {
              "type": "string",
              "maxLength": 50
            }
          }
        }
      }
    },
    "platforms": {
      "type": "array",
      "description": "Target social media platforms for this plan",
      "items": {
        "type": "string",
        "enum": ["twitter", "facebook", "instagram", "linkedin", "tiktok", "youtube"]
      },
      "minItems": 1
    },
    "schedule": {
      "type": "object",
      "description": "Posting schedule configuration",
      "properties": {
        "frequency": {
          "type": "object",
          "properties": {
            "daily": {
              "type": "integer",
              "minimum": 0,
              "description": "Number of posts per day"
            },
            "weekly": {
              "type": "integer",
              "minimum": 0,
              "description": "Number of posts per week"
            }
          }
        },
        "preferredTimes": {
          "type": "array",
          "description": "Preferred posting times (24-hour format)",
          "items": {
            "type": "string",
            "pattern": "^([01]?[0-9]|2[0-3]):[0-5][0-9]$"
          }
        },
        "timezone": {
          "type": "string",
          "description": "Timezone for scheduling (IANA format)",
          "default": "UTC"
        },
        "daysOfWeek": {
          "type": "array",
          "description": "Active days of the week",
          "items": {
            "type": "string",
            "enum": ["monday", "tuesday", "wednesday", "thursday", "friday", "saturday", "sunday"]
          }
        }
      }
    },
    "contentMix": {
      "type": "object",
      "description": "Distribution of content types in the plan",
      "properties": {
        "text": {
          "type": "number",
          "minimum": 0,
          "maximum": 100,
          "description": "Percentage of text-only posts"
        },
        "image": {
          "type": "number",
          "minimum": 0,
          "maximum": 100,
          "description": "Percentage of image posts"
        },
        "video": {
          "type": "number",
          "minimum": 0,
          "maximum": 100,
          "description": "Percentage of video posts"
        },
        "carousel": {
          "type": "number",
          "minimum": 0,
          "maximum": 100,
          "description": "Percentage of carousel posts"
        },
        "story": {
          "type": "number",
          "minimum": 0,
          "maximum": 100,
          "description": "Percentage of story posts"
        }
      }
    },
    "approvalWorkflow": {
      "type": "object",
      "description": "Content approval workflow settings",
      "properties": {
        "required": {
          "type": "boolean",
          "description": "Whether approval is required before posting",
          "default": true
        },
        "approvers": {
          "type": "array",
          "description": "List of approver user IDs",
          "items": {
            "type": "string"
          }
        },
        "autoPublish": {
          "type": "boolean",
          "description": "Whether to auto-publish after approval",
          "default": false
        }
      }
    },
    "posts": {
      "type": "array",
      "description": "Array of post IDs associated with this plan",
      "items": {
        "type": "string",
        "pattern": "^[a-zA-Z0-9-_]+$"
      }
    },
    "createdAt": {
      "type": "string",
      "format": "date-time",
      "description": "Timestamp when the plan was created"
    },
    "updatedAt": {
      "type": "string",
      "format": "date-time",
      "description": "Timestamp when the plan was last updated"
    },
    "createdBy": {
      "type": "string",
      "description": "User ID of the plan creator"
    }
  }
}
